# This is the default ansible 'hosts' file.

# all of ps03 configs need ot be validateed
[ps03-db]
ps03db1.mobhealthinternal.com

[ps03-db:vars]
postgres_password=????????????????????
db_server=ps03db1
postgres_drive=nvme2n1
mongo_drive=nvme1n1

[ps03-w]
ps03w1.mobhealthinternal.com bg_concurrency=30 bg_maxtaskperchild=10 bglow_concurrency=10 bglow_maxtaskperchild=10 celery_concurrency=8 celery_maxtaskperchild=1 hr_concurrency=11 hr_maxtaskperchild=1 mhc_proccess=15 celery_extras=" -B" nrpe_critical_total_procs=600 nrpe_warning_total_procs=550 nrpe_warning_file_age=6000 nrpe_critical_file_age=12000

[ps03-w:vars]
db_server=ps03db1

[ps03:children]
ps03-db
ps03-w

[ps02-db]
ps02db1.mobhealthinternal.com

[ps02-db:vars]
postgres_password=a1690aef01c815f4
db_server=ps02db1
postgres_drive=nvme2n1
mongo_drive=nvme1n1

[ps02-w]
ps02w1.mobhealthinternal.com bg_concurrency=30 bg_maxtaskperchild=10 bglow_concurrency=10 bglow_maxtaskperchild=10 celery_concurrency=8 celery_maxtaskperchild=1 hr_concurrency=11 hr_maxtaskperchild=1 mhc_proccess=15 celery_extras=" -B" nrpe_critical_total_procs=600 nrpe_warning_total_procs=550
ps02w2.mobhealthinternal.com bg_concurrency=2 bg_maxtaskperchild=1 bglow_concurrency=2 bglow_maxtaskperchild=10 celery_concurrency=2 celery_maxtaskperchild=1 hr_concurrency=2 hr_maxtaskperchild=1 mhc_proccess=5 admin_server=false

[ps02-w:vars]
db_server=ps02db1

[ps02:children]
ps02-db
ps02-w

[ps01-db]
ps01db1.mobhealthinternal.com

[ps01-db:vars]
postgres_password=a1690aef01c815f4
postgres_drive=nvme1n1
mongo_drive=nvme2n1
db_server=ps01db1

[ps01-w]
ps01w1.mobhealthinternal.com bg_concurrency=30 bg_maxtaskperchild=10 bglow_concurrency=10 bglow_maxtaskperchild=10 celery_concurrency=8 celery_maxtaskperchild=1 hr_concurrency=11 hr_maxtaskperchild=1 mhc_proccess=15 celery_extras=" -B" nrpe_critical_total_procs=600 nrpe_warning_total_procs=550 nrpe_warning_file_age=6000 nrpe_critical_file_age=12000
ps01w2.mobhealthinternal.com bg_concurrency=2 bg_maxtaskperchild=1 bglow_concurrency=2 bglow_maxtaskperchild=10 celery_concurrency=2 celery_maxtaskperchild=1 hr_concurrency=2 hr_maxtaskperchild=1 mhc_proccess=5 admin_server=false

[ps01-w:vars]
db_server=ps01db1

[ps01:children]
ps01-db
ps01-w

[plog-db]
plogdb1.mobhealthinternal.com

[plog-db:vars]
postgres_password=z_qd6M,92,8C\!_WR32Y
postgres_drive=xvdp
mongo_drive=xvdm
effective_cache_size="128MB"
random_page_cost="4.0"
shared_buffers="128MB"
log_min_duration_statement="40000"
db_server=plogdb1

[plog-w]
plogw1.mobhealthinternal.com  mhc_proccess=5 bg_concurrency=2 bg_maxtaskperchild=1 bglow_concurrency=2 bglow_maxtaskperchild=10 celery_concurrency=2 celery_maxtaskperchild=1 hr_concurrency=2 hr_maxtaskperchild=1
plogw2.mobhealthinternal.com  mhc_proccess=5 admin_server=false bg_concurrency=2 bg_maxtaskperchild=1 bglow_concurrency=2 bglow_maxtaskperchild=10 celery_concurrency=2 celery_maxtaskperchild=1 hr_concurrency=2 hr_maxtaskperchild=1

[plog-w:vars]
db_server=plogdb1
swap_space=2048000000

[plog:children]
plog-db
plog-w

[db:children]
ps01-db
ps02-db
ps03-db
plog-db

[web:children]
web_shard
plog-w

[web:vars]
mhc_web_drive=nvme1n1

[web_shard:children]
ps01-w
ps02-w
ps03-w

[db:vars]
environment_subnet="172.31.192.0/19"
shared_subnet="172.31.6.29/32"

[prod:children]
ps01
ps02
ps03
plog

[prod:vars]
authentication_sns_topic=arn:aws:sns:us-west-2:913835907225:Production_Auth_Log_Report

#[ps-cs]
#ps01cs1.mobhealthinternal.com admin_server=false hr_concurrency=20 hr_maxtaskperchild=1
#ps02cs1.mobhealthinternal.com admin_server=false hr_concurrency=20 hr_maxtaskperchild=1

#[ps-cs:vars]
#celery_apps="['celeryhr']"
